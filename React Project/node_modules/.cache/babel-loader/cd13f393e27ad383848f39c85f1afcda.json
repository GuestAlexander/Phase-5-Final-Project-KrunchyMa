{"ast":null,"code":"var _jsxFileName = \"/Users/alexguest/Desktop/Phase-5-Final-Project-KrunchyMa-main/React Project/src/common/AuthVerify.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst parseJwt = token => {\n  try {\n    return JSON.parse(atob(token.split(\".\")[1]));\n  } catch (e) {\n    return null;\n  }\n};\n\nconst AuthVerify = props => {\n  _s();\n\n  let location = useLocation();\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n\n    if (user) {\n      const decodedJwt = parseJwt(user.access_token);\n\n      if (decodedJwt.exp * 1000 < Date.now()) {\n        props.logOut();\n      }\n    }\n  }, [location, props]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 10\n  }, this);\n};\n\n_s(AuthVerify, \"BXcZrDMM76mmm4zA8/QV5UbMNXE=\", false, function () {\n  return [useLocation];\n});\n\n_c = AuthVerify;\nexport default AuthVerify;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthVerify\");","map":{"version":3,"names":["React","useEffect","useLocation","parseJwt","token","JSON","parse","atob","split","e","AuthVerify","props","location","user","localStorage","getItem","decodedJwt","access_token","exp","Date","now","logOut"],"sources":["/Users/alexguest/Desktop/Phase-5-Final-Project-KrunchyMa-main/React Project/src/common/AuthVerify.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nconst parseJwt = (token) => {\n  try {\n    return JSON.parse(atob(token.split(\".\")[1]));\n  } catch (e) {\n    return null;\n  }\n};\n\nconst AuthVerify = (props) => {\n  let location = useLocation();\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n\n    if (user) {\n      const decodedJwt = parseJwt(user.access_token);\n\n      if (decodedJwt.exp * 1000 < Date.now()) {\n        props.logOut();\n      }\n    }\n  }, [location, props]);\n\n  return <div></div>;\n};\n\nexport default AuthVerify;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,QAA4B,kBAA5B;;;AAEA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;EAC1B,IAAI;IACF,OAAOC,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACH,KAAK,CAACI,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAD,CAAf,CAAP;EACD,CAFD,CAEE,OAAOC,CAAP,EAAU;IACV,OAAO,IAAP;EACD;AACF,CAND;;AAQA,MAAMC,UAAU,GAAIC,KAAD,IAAW;EAAA;;EAC5B,IAAIC,QAAQ,GAAGV,WAAW,EAA1B;EAEAD,SAAS,CAAC,MAAM;IACd,MAAMY,IAAI,GAAGR,IAAI,CAACC,KAAL,CAAWQ,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;;IAEA,IAAIF,IAAJ,EAAU;MACR,MAAMG,UAAU,GAAGb,QAAQ,CAACU,IAAI,CAACI,YAAN,CAA3B;;MAEA,IAAID,UAAU,CAACE,GAAX,GAAiB,IAAjB,GAAwBC,IAAI,CAACC,GAAL,EAA5B,EAAwC;QACtCT,KAAK,CAACU,MAAN;MACD;IACF;EACF,CAVQ,EAUN,CAACT,QAAD,EAAWD,KAAX,CAVM,CAAT;EAYA,oBAAO;IAAA;IAAA;IAAA;EAAA,QAAP;AACD,CAhBD;;GAAMD,U;UACWR,W;;;KADXQ,U;AAkBN,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}